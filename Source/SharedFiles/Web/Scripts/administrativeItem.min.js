function administrativeItem(A,C,F,D){$("input.smallTextBox").watermark();$("form.delete").each(function(){J($(this))});$("#create").validate({rules:C,messages:F,submitHandler:function(L){var K={dataType:"json",beforeSubmit:function(){$("div.validationBox").hide()},success:function(M){if(M.model!=null){$("input.smallTextBox").val("").get(0).focus();var O=D(M.model);var N=$("table#list>tbody").prepend(O).find("tr:first");J(N.find("form.delete"))}else{if(M.modelStates!=null){B("Please correct the following errors and try again.",M.modelStates)}}},error:function(O,M,P){var N={key:"form",errors:[]};N.errors[0]=O.statusText;B("An unexpected error has occurred, please try again.",new Array(N))}};$(L).ajaxSubmit(K);return false},errorClass:"input-validation-error",errorPlacement:E,highlight:G,unhighlight:I});function J(K){K.submit(function(){var L={dataType:"json",success:function(M){if(M.modelStates!=null){B("Please correct the following errors and try again.",M.modelStates)}else{K.parents("tr:first").remove()}},error:function(O,M,P){var N={key:"form",errors:[]};N.errors[0]=O.statusText;B("An unexpected error has occurred, please try again.",new Array(N))}};K.ajaxSubmit(L);return false})}function B(P,O){var N='<span class="validation-summary-errors">'+P+'</span><ul class="validation-summary-errors">';for(var M=0;M<O.length;M++){var L=$("#"+O[M].key);var Q=H(O[M].errors[0]);L.addClass("input-validation-error");L.next("span:first").addClass("field-validation-error").html(Q).fadeIn("slow");for(var K=0;K<O[M].errors.length;K++){N+='<li><label for="'+O[M].key+'">'+O[M].errors[K]+"</label></li>"}}N+="</ul>";$("div.validationBox").html(N).css({backgroundColor:"#e8e8e8"}).animate({opacity:"show"},"slow").animate({backgroundColor:"#f7cbca"},"slow")}function E(L,N){var K=L.text();var M=H(K);N.next("span:first").html(M)}function G(L,K){$(L).addClass(K).next("span:first").show()}function I(L,K){$(L).removeClass(K).next("span:first").hide()}function H(K){return'<img src="'+A+'" alt="" title="'+K+'"/>'}};