(function(b){var a=b.telerik;b.extend(a,{tabstrip:function(e,f){this.element=e;b.extend(this,f);b(".t-item:not(.t-state-disabled)",e).live("mouseenter",a.hover).live("mouseleave",a.leave).live(f.activateEvent,a.delegate(this,this._click));a.bind(this,{select:this.onSelect,error:this.onError,load:this.onLoad});var d=b("li.t-state-active",e);var c=this.getContentElement(b("> .t-content",e),d.parent().children().index(d));if(c&&c.length>0&&c.children().length==0){this.activateTab(b(d[0]))}b(e).trigger("load")}});b.extend(a.tabstrip.prototype,{select:function(c){b(c).each(b.proxy(function(f,e){var d=b(e);if(d.hasClass("t-state-disabled")||d.hasClass("t-state-active")){return}this.activateTab(d)},this))},enable:function(c){b(c).each(function(){b(this).addClass("t-state-default").removeClass("t-state-disabled")})},disable:function(c){b(c).each(function(){b(this).removeClass("t-state-default").removeClass("t-state-active").addClass("t-state-disabled")})},_click:function(i,h){var g=b(h);var f=g.find(".t-link");var c=f.attr("href");var d=this.getContentElement(b("> .t-content",this.element),g.parent().children().index(g));if(g.hasClass("t-state-disabled")||g.hasClass("t-state-active")){i.preventDefault();return}if(a.trigger(this.element,"select",{item:g[0],contentElement:d})){i.preventDefault()}if((c&&(c.charAt(c.length-1)=="#"||c.indexOf("#"+this.element.id+"-")!=-1))||(b(d).length>0&&b(d).children().length==0)){i.preventDefault()}else{return}if(this.activateTab(g)){i.preventDefault()}},activateTab:function(d){var h=d.parent().children().removeClass("t-state-active").addClass("t-state-default").index(d);d.removeClass("t-state-default").addClass("t-state-active");var f=d.parent().parent().find("> .t-content");if(f.length>0){var g=f.filter(".t-state-active");var i=this.getContentElement(f,h);var j=this;if(!i){g.removeClass("t-state-active");a.fx.rewind(j.effects,g,{});return false}var c=b.trim(i.html()).length==0;var e=function(){i.addClass("t-state-active");a.fx.play(j.effects,i,{})};g.removeClass("t-state-active").stop(false,true);a.fx.rewind(j.effects,g,{},function(){if(d.hasClass("t-state-active")){if(!c){e()}else{if(c){j.ajaxRequest(d,i,function(){if(d.hasClass("t-state-active")){e()}})}}}});return true}return false},getContentElement:function(c,e){var g=new RegExp("-"+(e+1)+"$");for(var f=0,d=c.length;f<d;f++){if(g.test(b(c[f]).attr("id"))){return b(c[f])}}},ajaxRequest:function(d,f,c){var i=this;var e=null;var g=setTimeout(function(){e=b('<span class="t-icon t-loading"></span>').prependTo(d.find(".t-link"))},100);var h={};b.ajax({type:"GET",url:d.find(".t-link").attr("href"),dataType:"html",data:h,error:b.proxy(function(k,j){if(a.ajaxError(this.element,"error",k,j)){return}},this),complete:function(){clearTimeout(g);if(e!==null){e.remove()}},success:b.proxy(function(l,j){f.html(l);var k=d.find(".t-link");k.data("ContentUrl",k.attr("href")).attr("href","#");if(c){c.call(i,f)}},this)})}});b.fn.tTabStrip=function(c){c=b.extend({},b.fn.tTabStrip.defaults,c);return this.each(function(){c=b.meta?b.extend({},c,b(this).data()):c;if(!b(this).data("tTabStrip")){b(this).data("tTabStrip",new a.tabstrip(this,c))}})};b.fn.tTabStrip.defaults={activateEvent:"click",effects:a.fx.toggle.defaults()}})(jQuery);